{% extends 'core/page_blank.html' %}
{% load breadcrumbs from great_components %}
{% load get_intended_destination from url_tags %}
{% load static %}

{% block inner_content %}
	<div id="sign-up"></div>
{% endblock %}

{% block body_js %}
    {{ block.super }}
    {% get_intended_destination request as onward_destination %}

    <script type="text/javascript">
		var element = document.getElementById('sign-up');
		var uidb64 = '{{ request.GET.uidb64 }}';
		var token = '{{ request.GET.token }}';
		var currentStep = (uidb64 && token) ? 'verification-code' : 'credentials';
		magna.SignupModal({
			element: element,
			uidb64: uidb64,
			token: token,
			currentStep: currentStep,
			nextUrl: '{{onward_destination}}',
		})
    </script>
{% endblock %}
{% block body_footer %}
{% endblock %}
