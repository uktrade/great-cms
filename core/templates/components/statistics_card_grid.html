{% comment %}
  Args:
  statistics - streamfield of IndividualStatisticBlocks
{% endcomment %}

{% load component_tags %}

<div class="statistics-card margin-vertical-30">
  <h2 class="statistics-card-heading heading-large">
    <span>{{ country }}: at a glance</span>
  </h2>

  <div class="statistics-card-content">
    <div class="flex-grid">
      {% with statistics|length as num_of_statistics %}
        {% for statistics_block in statistics %}
          {% if statistics_block.value.number %}
            {% if num_of_statistics >= 6 %}
              <figure class="padding-vertical-15 column-half column-third-l column-sixth-xl">
            {% elif num_of_statistics == 5 %}
              <figure class="padding-vertical-15 column-half column-third-l column-sixth-xl">
            {% elif num_of_statistics == 4 %}
              <figure class="padding-vertical-15 column-half column-quarter-xl">
            {% elif num_of_statistics == 3 %}
              <figure class="padding-vertical-15 column-half column-third-l">
            {% else %}
              <figure class="padding-vertical-15 column-half">
            {% endif %}

              {% if not number_first %}
                <p class="statistic-heading font-xsmall">{{ statistics_block.value.heading }}</p>
              {% endif %}

              <p
                class="active-blue-text statistic-number {% if statistics_block.value.number|length > 8 %} bold-medium{% else %} bold-large{% endif %}"
              >
                {{ statistics_block.value.number }}
              </p>

              {% if number_first %}
                <p class="statistic-heading font-xsmall">{{ statistics_block.value.heading }}</p>
              {% endif %}

              <figcaption>
                <p class="font-xsmall statistic-smallprint">{{ statistics_block.value.smallprint }}</p>
              </figcaption>
            </figure>
          {% endif %}
        {% endfor %}
      {% endwith %}
    </div>

    <p class="font-medium">
      Want to see more on {{ country }}?

      {% if sso_is_logged_in %}
        View additional market data, content specific to your product or sector and compare {{ country }} side by side
        with other markets
      {% else %}
        Sign up for additional market data, content specific to your product or sector and to compare {{ country }} side
        by side with other markets.
      {% endif %}
    </p>
  </div>

  <div class="statistics-card-cta">
    <a href="/where-to-export/" class="cta-link with-arrow">
      <span>
        {% if sso_is_logged_in %}
          View data
        {% else %}
          Sign up for free
        {% endif %}
      </span><br>
    </a>
  </div>
</div>
