{% load wagtailcore_tags  %}
{% load i18n %}
{% load get_template_translation_enabled from content_tags %}
{% get_template_translation_enabled as TRANSLATE_TEXT %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
        {% if value.video %}
        <div class=" great-ratio-16-9">
            <video controls class="govuk-!-width-full govuk-!-margin-bottom-2">
                <source src="{{ value.video.url }}" type="video/{{ value.video.file_extension }}">
                {% if TRANSLATE_TEXT %}
                  {% blocktranslate with video_url=value.video.url%}
                    <p>Your browser doesn't support HTML5 video. Here is a <a class="link" href="{{ video_url }}">link to the video</a> instead.</p>
                  {% endblocktranslate %}
                {% else %}
                    <p>Your browser doesn't support HTML5 video. Here is a <a class="link" href="{{ value.video.url }}">link to the video</a> instead.</p>
                {% endif %}
            </video>
        </div>

        {% if value.video.transcript %}
        <details closed class="govuk-details govuk-!-margin-top-5 govuk-!-margin-bottom-5">
            <summary  class="govuk-details__summary"><span class="govuk-details__summary-text">
                {% if TRANSLATE_TEXT %}
                    {% translate "View video transcript" %}
                {% else %}
                    View video transcript
                {% endif %}
            </span></summary>
            <div class="govuk-details__text">{{ value.video.transcript|richtext }}
                {{value.video}}
            </div>
        </details>
        {% endif %}
    {% endif %}
    </div>
</div>
