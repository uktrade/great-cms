{"version":3,"file":"marketGuidesListing.js","mappings":"2CACA,IAAIA,EAAsB,CCA1B,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3E,EAAwB,CAACM,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,qJCwDlF,SACEI,cAzDwB,e,EAAA,G,EAAA,yBAAG,WAAOC,EAAeC,GAAtB,wGACTC,eAAeC,UAC/B,CACEC,eAAgBJ,GAElB,CACEK,UAAW,oBACXC,OAAQ,CAAC,EAAE,GACXC,KAAM,EACNC,QAAS,EACTC,MAAO,uBACPC,YAAY,EACZC,YAAY,EACZC,iBAAiB,IAbM,QACrBC,EADqB,QAiBvBC,WACF,IAAIC,WAAWC,kBAAkB,CAAEC,aAAa,IAChD,aAGFJ,EAAIC,WAAW,IAAIC,WAAWG,kBAAqB,aAE7CC,EAAS,IAAIJ,WAAWK,aAE9BnB,EAAQoB,SAAQ,SAAUC,GACxB,IAAMC,EAASD,EAAOE,OAAOC,MAAM,KAAKZ,IAAIa,YAAYC,UAExD,IACER,EAAOS,OAAOL,GACd,SAEA,YADAM,QAAQC,MAAM,qCAAsCR,EAAOS,SAI7D,IAAMC,EAAKC,SAASC,cAAc,OAClCF,EAAGG,UAAY,uBAEf,IAAIC,EAAc,YAAcd,EAAOe,IAAM,KAC7CD,GAAe,OAASd,EAAOS,QAAU,QACzCK,GAAe,OAEf,IAAIrB,WAAWuB,OAAON,GACnBO,UAAUhB,GACViB,SACC,IAAIzB,WAAW0B,MAAM,CAAEC,aAAa,IAASC,QAAQP,IAEtDQ,MAAM/B,MAGPZ,EAAQ4C,QACVhC,EAAIiC,UAAU3B,EAAQ,CAAE4B,QAAS,GAAIC,QAAS,IApDrB,0C,+KAAH,yD","sources":["webpack://[name]/webpack/bootstrap","webpack://[name]/webpack/runtime/define property getters","webpack://[name]/webpack/runtime/hasOwnProperty shorthand","webpack://[name]/./core/js/marketGuidesListing.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export const initializeMap = async (cognitoPoolId, markets) => {\n  const map = await AmazonLocation.createMap(\n    {\n      identityPoolId: cognitoPoolId,\n    },\n    {\n      container: 'market-guides-map',\n      center: [0,0],\n      zoom: 1,\n      minZoom: 0,\n      style: 'OpportunitiesListing',\n      dragRotate: false,\n      touchPitch: false,\n      pitchWithRotate: false,\n    }\n  )\n\n  map.addControl(\n    new maplibregl.NavigationControl({ showCompass: false }),\n    'top-right'\n  )\n\n  map.addControl(new maplibregl.FullscreenControl(), 'top-right')\n\n  const bounds = new maplibregl.LngLatBounds()\n\n  markets.forEach(function (market) {\n    const lngLat = market.latlng.split(',').map(parseFloat).reverse()\n\n    try {\n      bounds.extend(lngLat)\n    } catch {\n      console.error('Error parsing lat/long for market:', market.heading)\n      return\n    }\n\n    const el = document.createElement('div');\n    el.className = 'market-guides-marker';\n\n    let popupMarkup = '<a href=\"' + market.url + '\">'\n    popupMarkup += '<h3>' + market.heading + '</h3>'\n    popupMarkup += '</a>'\n\n    new maplibregl.Marker(el)\n      .setLngLat(lngLat)\n      .setPopup(\n        new maplibregl.Popup({ closeButton: false }).setHTML(popupMarkup)\n      )\n      .addTo(map)\n  })\n\n  if (markets.length) {\n    map.fitBounds(bounds, { padding: 20, maxZoom: 8 })\n  }\n}\n\nexport default {\n  initializeMap,\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","initializeMap","cognitoPoolId","markets","AmazonLocation","createMap","identityPoolId","container","center","zoom","minZoom","style","dragRotate","touchPitch","pitchWithRotate","map","addControl","maplibregl","NavigationControl","showCompass","FullscreenControl","bounds","LngLatBounds","forEach","market","lngLat","latlng","split","parseFloat","reverse","extend","console","error","heading","el","document","createElement","className","popupMarkup","url","Marker","setLngLat","setPopup","Popup","closeButton","setHTML","addTo","length","fitBounds","padding","maxZoom"],"sourceRoot":""}