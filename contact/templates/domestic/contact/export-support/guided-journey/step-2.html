{% extends 'domestic/contact/export-support/base.html' %}
{% load static %}
{% block head_title %}Export support{% endblock %}
{% block content %}
    <div class="great great-bg-white">
        <div class="great-container govuk-!-padding-top-4">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full great-grid-column-seven-twelfths">
                    <h1 class="govuk-heading-xl govuk-!-margin-bottom-6">Export support</h1>
                    {% if session_data.sic_description %}
                        <p class="govuk-body">{{ session_data.sic_description }}</p>
                    {% endif %}
                    <form method="post" autocomplete="off">
                        {% csrf_token %}
                        <div class="govuk-!-margin-bottom-6">
                            <label>Select the best commodity match for '<strong>{% if session_data.make_or_do_keyword %}{{ session_data.make_or_do_keyword }}{% else %}{{ session_data.sic_description }}{% endif %}</strong>'</label>
                            <div class="great-text-select--arrow">
                                <select class="govuk-select great-select" name="hs_code" id="hs_code">
                                    {% for commodity in commodities %}
                                        <option value="{{ commodity.hs_code }}">{{ commodity.title }}({{ commodity.hs_code }})</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        
                        <button type="submit" class="govuk-button great-min-width-250-desktop">{{ button_text }}</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block body_js %}
    {{ block.super }}
    <script type="text/javascript">
        document.querySelector('#hs_code').addEventListener('change', (e) => {
            document.querySelector('[name="hs_code"]').value = e.target.value;
        });
    </script>
    
{% endblock %}