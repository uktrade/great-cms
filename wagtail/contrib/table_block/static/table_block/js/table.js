(()=>{"use strict";var e,t={2618:(e,t,a)=>{var n=a(5311),i=a.n(n),l=a(1544);function d(e,t){const a=e+"-handsontable-container",n=e+"-handsontable-header",d=e+"-handsontable-col-header",r=e+"-handsontable-col-caption",o=i()("#"+e),s=i()("#"+n),c=i()("#"+d),h=i()("#"+r),f={};let p=null,u=null,b=!1;const v=function(){return i()(".w-field--table_input").closest(".w-panel").width()},w=function(){const t=i()("#"+e).parent();let a=0;return t.find(".htCore").each((function(){a+=i()(this).height()})),a+t.find("[data-field]").first().height()},_=[".handsontable",".wtHider",".wtHolder"],g=function(t){const a=i()("#"+e);i().each(_,(function(){a.closest("[data-field]").find(this).height(t)}))};function y(e){i().each(_,(function(){i()(this).width(e)})),i()(".w-field--table_input").width(e)}try{u=JSON.parse(o.val())}catch(e){}null!==u&&((0,l.R)(u,"first_row_is_table_header")&&s.prop("checked",u.first_row_is_table_header),(0,l.R)(u,"first_col_is_header")&&c.prop("checked",u.first_col_is_header),(0,l.R)(u,"table_caption")&&h.prop("value",u.table_caption)),((0,l.R)(!t,"width")||(0,l.R)(!t,"height"))&&i()(window).on("resize",(()=>{p.updateSettings({width:v(),height:w()}),y("100%")}));const m=function(){const e=p.getCellsMeta(),t=[];for(let a=0;a<e.length;a+=1)(0,l.R)(e[a],"className")&&t.push({row:e[a].row,col:e[a].col,className:e[a].className});return t},$=function(){o.val(JSON.stringify({data:p.getData(),cell:m(),first_row_is_table_header:s.prop("checked"),first_col_is_header:c.prop("checked"),table_caption:h.val()}))},O=function(e,t){g(w()),$()};s.on("change",(()=>{$()})),c.on("change",(()=>{$()})),h.on("change",(()=>{$()}));const x={afterChange:function(e,t){"loadData"!==t&&$()},afterCreateCol:O,afterCreateRow:O,afterRemoveCol:O,afterRemoveRow:O,afterSetCellMeta:function(e,t,a,n){b&&"className"===a&&$()},afterInit:function(){b=!0}};null!==u&&((0,l.R)(u,"data")&&(x.data=u.data),(0,l.R)(u,"cell")&&(x.cell=u.cell)),Object.keys(x).forEach((e=>{f[e]=x[e]})),Object.keys(t).forEach((e=>{f[e]=t[e]})),p=new Handsontable(document.getElementById(a),f),window.addEventListener("load",(()=>{p.render(),g(w()),y(v())}))}window.initTable=d,window.telepath.register("wagtail.widgets.TableInput",class{constructor(e,t){this.options=e,this.strings=t}render(e,t,a,n){const i=document.createElement("div");i.innerHTML=`\n      <div className="w-field__wrapper" data-field-wrapper>\n        <label class="w-field__label" for="${a}-handsontable-header">${this.strings["Row header"]}</label>\n        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field>\n          <div className="w-field__input" data-field-input>\n            <input type="checkbox" id="${a}-handsontable-header" name="handsontable-header" aria-describedby="${a}-handsontable-header-helptext" />\n          </div>\n          <div id="${a}-handsontable-header-helptext" data-field-help>\n            <div class="help">${this.strings["Display the first row as a header."]}</div>\n          </div>\n        </div>\n      </div>\n      <div className="w-field__wrapper" data-field-wrapper>\n        <label class="w-field__label" for="${a}-handsontable-col-header">${this.strings["Column header"]}</label>\n        <div class="w-field w-field--boolean_field w-field--checkbox_input" data-field>\n          <div className="w-field__input" data-field-input>\n            <input type="checkbox" id="${a}-handsontable-col-header" name="handsontable-col-header" aria-describedby="${a}-handsontable-col-header-helptext" />\n          </div>\n          <div id="${a}-handsontable-col-header-helptext" data-field-help>\n            <div class="help">${this.strings["Display the first column as a header."]}</div>\n          </div>\n        </div>\n      </div>\n      <div className="w-field__wrapper" data-field-wrapper>\n        <label class="w-field__label" for="${a}-handsontable-col-caption">${this.strings["Table caption"]}</label>\n        <div class="w-field w-field--char_field w-field--text_input" data-field>\n          <div className="w-field__input" data-field-input>\n            <input type="text" id="${a}-handsontable-col-caption" name="handsontable-col-caption" aria-describedby="${a}-handsontable-col-caption-helptext" />\n          </div>\n          <div id="${a}-handsontable-col-caption-helptext" data-field-help>\n            <div class="help">${this.strings["A heading that identifies the overall topic of the table, and is useful for screen reader users"]}</div>\n          </div>\n        </div>\n      </div>\n      <div id="${a}-handsontable-container"></div>\n      <input type="hidden" name="${t}" id="${a}" placeholder="${this.strings.Table}">\n    `,e.replaceWith(i);const l=i.querySelector(`input[name="${t}"]`),r=this.options,o={getValue:()=>JSON.parse(l.value),getState:()=>JSON.parse(l.value),setState(e){l.value=JSON.stringify(e),d(a,r)},focus(){}};return o.setState(n),o}})},5311:e=>{e.exports=jQuery}},a={};function n(e){var i=a[e];if(void 0!==i)return i.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,a,i,l)=>{if(!a){var d=1/0;for(c=0;c<e.length;c++){for(var[a,i,l]=e[c],r=!0,o=0;o<a.length;o++)(!1&l||d>=l)&&Object.keys(n.O).every((e=>n.O[e](a[o])))?a.splice(o--,1):(r=!1,l<d&&(d=l));if(r){e.splice(c--,1);var s=i();void 0!==s&&(t=s)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,i,l]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=986,(()=>{var e={986:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var i,l,[d,r,o]=a,s=0;if(d.some((t=>0!==e[t]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(o)var c=o(n)}for(t&&t(a);s<d.length;s++)l=d[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=n.O(void 0,[751],(()=>n(2618)));i=n.O(i)})();
