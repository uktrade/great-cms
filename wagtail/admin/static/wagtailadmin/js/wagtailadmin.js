(()=>{"use strict";var e,t={451:(e,t,n)=>{var a=n(4530),r=n.n(a),i=n(1302),o=n(3407),l=n(5697),s=n.n(l);s().shape({live:s().bool.isRequired,status:s().string.isRequired}).isRequired;var c=n(5946),d=n.n(c);const u=({name:e,component:t,className:n,duration:a,children:i})=>r().createElement(d(),{component:t,transitionEnterTimeout:a,transitionLeaveTimeout:a,transitionName:`c-transition-${e}`,className:n},i);u.propTypes={name:s().oneOf(["push","pop"]).isRequired,component:s().string,className:s().string,duration:s().number,children:s().node},u.defaultProps={component:"div",children:null,className:null,duration:210};var m=n(434);var p=n(7107),h=n(5781),g=n(5292),f=n(9408);const b=(e,t=!("true"===e.getAttribute("aria-expanded")))=>{const n=document.querySelector(`#${e.getAttribute("aria-controls")}`);n&&(e.setAttribute("aria-expanded",`${t}`),t?n.removeAttribute("hidden"):"onbeforematch"in document.body?n.setAttribute("hidden","until-found"):n.setAttribute("hidden",""),e.dispatchEvent(new CustomEvent("commentAnchorVisibilityChange",{bubbles:!0})),e.dispatchEvent(new CustomEvent("wagtail:panel-toggle",{bubbles:!0,cancelable:!1,detail:{expanded:t}})))};function v(e){const t=e.closest("[data-panel]"),n=document.querySelector(`#${e.getAttribute("aria-controls")}`);if(!n||!t||t.collapsibleInitialised)return;t.collapsibleInitialised=!0;const a=b.bind(null,e),r=t.classList.contains("collapsed"),i=n.querySelector('[aria-invalid="true"], .error, .w-field--error'),o=r&&!i;o&&a(!1),e.addEventListener("click",a.bind(null,void 0));const l=t.querySelector("[data-panel-heading]");l&&l.addEventListener("click",a.bind(null,void 0)),n.addEventListener("beforematch",a.bind(null,!0)),e.dispatchEvent(new CustomEvent("wagtail:panel-init",{bubbles:!0,cancelable:!1,detail:{expanded:!o}}))}var w=n(7858),E=n.n(w);const y=(e,t=0)=>{let n;const a=(...a)=>{window.clearTimeout(n),n=window.setTimeout((()=>{e(...a)}),t)};return a.cancel=()=>{"number"==typeof n&&window.clearTimeout(n)},a},S=({expanded:e,floating:t,insideMinimap:n,onClick:a})=>r().createElement("button",{type:"button","aria-expanded":e,onClick:a,className:`button button-small button-secondary w-minimap__collapse-all ${t?"w-minimap__collapse-all--floating":""} ${n?"w-minimap__collapse-all--inside":""}`},r().createElement(i.Z,{name:e?"arrow-up-big":"arrow-down-big"}),e?(0,f.ih)("Collapse all"):(0,f.ih)("Expand all")),q=r().createElement("span",{className:"w-required-mark"},"*"),x=({item:e,intersects:t,expanded:n,onClick:a})=>{const{href:o,label:l,icon:s,required:c,errorCount:d,level:u}=e,m=d>0,p=(0,f.qP)("%(num)s error","%(num)s errors",d).replace("%(num)s",`${d}`),h=l.length>26?`${l.substring(0,26)}â€¦`:l;return r().createElement("a",{href:o,className:`w-minimap-item w-minimap-item--${u} ${t?"w-minimap-item--active":""} ${m?"w-minimap-item--error":""}`,onClick:a,"aria-current":t,tabIndex:n?void 0:-1},m?r().createElement("div",{className:"w-minimap-item__errors","aria-label":p},d):null,r().createElement(i.Z,{name:"minus",className:"w-minimap-item__placeholder"}),"h1"!==u&&"h2"!==u?r().createElement(i.Z,{name:s,className:"w-minimap-item__icon"}):null,r().createElement("span",{className:"w-minimap-item__label"},r().createElement("span",{className:"w-minimap-item__text"},h),c?q:null))},L={root:null,rootMargin:"-50px 0px -70px 0px",threshold:.1},A=(e,{target:t,isIntersecting:n})=>(e[`#${t.closest("[data-panel]")?.id}`||""]=n,e),T=({container:e,anchorsContainer:t,links:n,onUpdate:o,toggleAllPanels:l})=>{const[s,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!0),[h,g]=(0,a.useState)({}),b=(0,a.useRef)(null),v=(0,a.useRef)({}),w=(0,a.useRef)(null),E=(0,a.useRef)(null),q=e=>{s||e.preventDefault(),c(!0),u(!0)};return(0,a.useEffect)((()=>{document.addEventListener("click",(t=>{e.contains(t.target)||(c(!1),u(!1))}),!0)}),[]),(0,a.useEffect)((()=>{b.current||(b.current=new IntersectionObserver((t=>{v.current=t.reduce(A,{...v.current}),w.current||(w.current=y((e=>{g(e),(e=>{const t=e.querySelectorAll('a[aria-current="true"]');if(0===t.length||e.scrollHeight===e.clientHeight)return;const n=t[0],a=t[t.length-1];let r=e.scrollTop;n&&n.offsetTop<e.scrollTop&&(r=n.offsetTop),a&&a.offsetTop>e.scrollTop+e.offsetHeight&&(r=a.offsetTop-e.offsetHeight+a.offsetHeight),e.scrollTop=r})(E.current)}),100)),w.current(v.current),t.forEach((({target:t})=>{t.closest(".deleted")&&o(e)}))}),L));const t=b.current;return t.disconnect(),n.forEach((({panel:e,toggle:n})=>{const a=e.matches(".w-panel--nested")&&null===e.closest("[data-field]");t.observe(a?n:e)})),()=>{t.disconnect()}}),[n,e]),(0,a.useEffect)((()=>{p(!0)}),[t,p]),r().createElement("div",null,r().createElement(S,{expanded:m,onClick:()=>{p(!m),l(!m)},floating:!0,insideMinimap:s}),r().createElement("div",{className:"w-minimap "+(s?"w-minimap--expanded":""),onMouseOver:()=>{window.matchMedia("(hover: hover)").matches&&c(!0)},onMouseOut:()=>{window.matchMedia("(hover: hover)").matches&&(d||(c(!1),u(!1)))}},r().createElement("div",{className:"w-minimap__header"},r().createElement("button",{type:"button","aria-expanded":s,onClick:()=>{c(!s),u(!s)},className:"w-minimap__toggle","aria-label":(0,f.ih)("Toggle side panel")},r().createElement(i.Z,{name:"expand-right"}))),r().createElement("ol",{className:"w-minimap__list",ref:E},n.map((e=>r().createElement("li",{key:e.href},r().createElement(x,{item:e,intersects:h[e.href],expanded:s,onClick:q}))))),r().createElement("div",{className:"w-minimap__footer"})))},C=e=>{const t=e.closest("[data-panel]"),n=t?.getAttribute("aria-labelledby"),a=t?.querySelector(`#${n}`),r=t?.querySelector("[data-panel-toggle]"),i=e.closest("[data-inline-panel-child].deleted");if(!t||!a||!r||i)return null;const o=a.querySelector("[data-panel-heading-text]")?.textContent||a.textContent?.replace(/\s+\*\s+$/g,"").trim(),l=null!==t.querySelector("[data-panel-required]"),s=r.querySelector("use")?.getAttribute("href")?.replace("#icon-","")||"",c=`h${a.getAttribute("aria-level")||a.tagName[1]||2}`,d=[].slice.call(t.querySelectorAll(".error-message")).filter((e=>e.closest("[data-panel]")===t)).length;return{anchor:e,toggle:r,panel:t,icon:s,label:o||"",href:e.getAttribute("href")||"",required:l,errorCount:d,level:c}},_=e=>{let t=document.body;const n=document.querySelector("[data-tabs]");if(n){const e=n.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls");t=n.querySelector(`#${e}`)||t}const a=t.querySelectorAll("[data-panel-anchor]"),i=[].slice.call(a).map(C).filter(Boolean);E().render(r().createElement(T,{container:e,anchorsContainer:t,links:i,onUpdate:_,toggleAllPanels:e=>{i.forEach(((t,n)=>{0===n&&t.href.includes("title")||b(t.toggle,e)}))}}),e)};window.wagtail.components={Icon:i.Z,Portal:o.Z},document.addEventListener("DOMContentLoaded",(()=>{(0,p.bp)(),(0,p.zN)(),(0,h.U)(),document.querySelectorAll("[data-wagtail-dismissible-id]").forEach((e=>{const t=e.hasAttribute("data-wagtail-dismissible-toggle")?e:e.querySelector("[data-wagtail-dismissible-toggle]"),n=e.dataset.wagtailDismissibleId;t&&n&&t.addEventListener("click",(()=>{var t;t={[n]:!0},fetch(m.QF.ADMIN_URLS.DISMISSIBLES,{method:"PATCH",headers:{[m.QF.CSRF_HEADER_NAME]:m.QF.CSRF_TOKEN,"Content-Type":"application/json"},body:JSON.stringify(t),mode:"same-origin"}),e.classList.add("w-dismissible--dismissed"),e.setAttribute("data-wagtail-dismissed","")}))})),(0,g.W)(),function(){const e=document.querySelector("[data-breadcrumb-next]");if(!e)return;const t=e.closest(e.dataset.headerSelector||"header");if(!t)return;const n=e.querySelector("[data-toggle-breadcrumbs]");if(!n)return;const a=e.querySelectorAll("[data-breadcrumb-item]"),r="w-max-w-4xl";let i=!1,o=!0,l=!1;function s(){a.forEach((e=>{e.classList.remove(r),e.hidden=!0})),n.setAttribute("aria-expanded","false"),n.querySelector("svg use").setAttribute("href","#icon-breadcrumb-expand"),i=!1,l=!1,document.dispatchEvent(new CustomEvent("wagtail:breadcrumbs-collapse"))}function c(){a.forEach((e=>{e.hidden=!1,e.classList.add(r)})),n.setAttribute("aria-expanded","true"),i=!0,document.dispatchEvent(new CustomEvent("wagtail:breadcrumbs-expand"))}n.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),l||i?s():(c(),l=!0,n.querySelector("svg use").setAttribute("href","#icon-cross")))})),n.addEventListener("click",(()=>{l&&(o=!1,s()),i?(o=!1,l=!0,n.querySelector("svg use").setAttribute("href","#icon-cross")):o&&c()})),n.addEventListener("mouseenter",(()=>{!i&&o&&(i=!0,o=!1,c())})),n.addEventListener("mouseleave",(()=>{o=!0})),t.addEventListener("mouseleave",(()=>{l||s()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&s()}))}(),function(){const e=document.querySelector("[data-form-side]");if(!e)return;const t="formSideExplorer"in e.dataset,n=document.querySelector("[data-form-side-resize-grip]"),a=document.querySelector("[data-form-side-width-input]"),r=()=>{const t=getComputedStyle(e),n=parseFloat(t.minWidth),a=parseFloat(t.maxWidth),r=parseFloat(t.width),i=a-n;return{minWidth:n,maxWidth:a,width:r,range:i,percentage:(r-n)/i*100}};let i;const o=n=>{clearTimeout(i);const o=document.querySelector("body"),l=document.querySelector(`[data-side-panel-toggle="${n}"]`);if((!n||l)&&(""===n||"comments"===n?(e.classList.remove("form-side--open"),e.removeAttribute("aria-labelledby")):(e.classList.add("form-side--open"),e.setAttribute("aria-labelledby",`side-panel-${n}-title`)),document.querySelectorAll("[data-side-panel]").forEach((t=>{const a=t.dataset.sidePanel;if(a===n)t.hidden&&(t.hidden=!1,t.dispatchEvent(new CustomEvent("show")),e.classList.add(`form-side--${a}`),o.classList.add("side-panel-open"));else if(!t.hidden){const r=()=>{t.hidden=!0,t.dispatchEvent(new CustomEvent("hide")),e.classList.remove(`form-side--${a}`)};""===n?(o.classList.remove("side-panel-open"),i=setTimeout(r,500)):r()}})),document.querySelectorAll("[data-side-panel-toggle]").forEach((e=>{e.setAttribute("aria-expanded",e.dataset.sidePanelToggle===n?"true":"false")})),!t)){try{localStorage.setItem("wagtail:side-panel-open",n)}catch(e){}setTimeout((()=>{const{percentage:e}=r();a.value=100-e}),500)}};document.querySelectorAll("[data-side-panel-toggle]").forEach((e=>{e.addEventListener("click",(()=>{(e=>{const t=!document.querySelector(`[data-side-panel="${e}"]`).hasAttribute("hidden");o(t?"":e)})(e.dataset.sidePanelToggle)}))}));const l=document.querySelector("[data-form-side-close-button]");l instanceof HTMLButtonElement&&l.addEventListener("click",(()=>{o("")}));const s=n=>{const{minWidth:i,maxWidth:o,range:l,width:s}=r(),c=parseInt(Math.max(i,Math.min(n,o)),10)||s,d=(0,f.qP)("%(num)s pixel","%(num)s pixels",c).replace("%(num)s",c);if(e.style.width=`${c}px`,a.value=100-(c-i)/l*100,a.setAttribute("aria-valuetext",d),!t)try{localStorage.setItem("wagtail:side-panel-width",c)}catch(e){}};let c,d;const u=e=>{if(!e.screenX||!c||!d)return;const t=c-e.screenX;s(d+t)};n.addEventListener("pointerdown",(e=>{c=e.screenX,d=r().width,document.body.classList.add("side-panel-resizing"),n.setPointerCapture(e.pointerId),n.addEventListener("pointermove",u)})),n.addEventListener("pointerup",(e=>{n.removeEventListener("pointermove",u),n.releasePointerCapture(e.pointerId),document.body.classList.remove("side-panel-resizing")})),a.addEventListener("change",(e=>{const{minWidth:t,range:n}=r(),a=100-parseInt(e.target.value,10);s(t+n*a/100)})),setTimeout((()=>{try{const e=localStorage.getItem("wagtail:side-panel-open");!t&&e&&o(e),s(localStorage.getItem("wagtail:side-panel-width"))}catch(e){}setTimeout((()=>{e.classList.remove("form-side--initial")}))}))}(),function(e=document.querySelectorAll("[data-panel-toggle]")){e.forEach(v)}()})),window.addEventListener("load",(()=>{!function(e=document.querySelector("[data-panel]:target")){e&&e.scrollIntoView({behavior:"smooth"})}(),((e=document.querySelector("[data-minimap-container]"))=>{if(!e)return;const t=y(_.bind(null,e),100);document.addEventListener("wagtail:tab-changed",t),document.addEventListener("wagtail:panel-init",t);const n=()=>e.style.setProperty("--offset-top",`${e.offsetTop}px`),a=y(n,100);document.addEventListener("resize",a),n(),t(e)})()}))}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,n,r,i)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,r,i]=e[d],l=!0,s=0;s<n.length;s++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,i<o&&(o=i));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=404,(()=>{var e={404:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,l,s]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(s)var d=s(a)}for(t&&t(n);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},n=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[751],(()=>a(451)));r=a.O(r)})();
