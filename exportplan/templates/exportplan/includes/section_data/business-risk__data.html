{% load to_json %}

<script type="text/javascript">
  magna.businessRisks({
    element: document.getElementById('business-risks'),
    model_name: 'businessrisks',
    formFields: {{ business_risks|to_json }},
    formData: {
      risk_extras: {
        placeholder: "Add some text",
        tooltip: {
          content: `<p>Describe what the risk is and how it can happen.</p>`
        },
        example: {
          content: "Accusation from other companies that we've infringed their IP.",
          bgColour: "white",
        },
      },
      likelihood_extras: {
        tooltip: {
          content: `<p>This is the chance of a specific risk that you have highlighted occurring.</p>`
        },
      },
      impact_extras: {
        tooltip: {
          content: `<p>The risk impact is an estimation of the potential losses to your business, the higher the loss the higher the impact.</p>`
        },
      },
      contingency_plan_extras: {
        label: "Contingency plan",
        placeholder: "Add some text",
        tooltip: {
          content: `<p>This is a plan designed to prepare for an event that is outside the usual plan. A contingency plan makes sure you are prepared for any disruptive events that are thrown your way.</p>`
        },
        example: {
          content: "Although any infringement would be unintentional, we have already taken professional advice on our IP from a patent attorney. We have legal paperwork all prepared.",
          bgColour: "white",
        },
      },
    },
    risk_likelihood_options: {{ risk_likelihood_options|to_json }},
    risk_impact_options: {{ risk_impact_options|to_json }},
    companyexportplan: {{ export_plan.pk }},
    lesson: magna.formatLessonLearned({{ lesson_details|to_json }}, {{ current_section|to_json}}, 0),
  })
</script>
