{% extends 'exportplan/section.html' %}
{% load to_json %}
{% load static %}

{% block head_other %}
  <meta name="description" content="Complete the Getting paid section of your export plan" />
{% endblock %}
{% block intro_title %}Getting paid{% endblock %}
{% block intro_description %}This section will help you to outline your plans for getting paid from abroad.{% endblock %}

{% block main_content %}
<div class="g-panel">
  <p>To get paid the right amount and get paid on time, you'll need to think about your intended:</p>
  <ul class="list-dot">
    <li>payment terms</li>
    <li>payment methods</li>
    <li>Incoterms® (international commercial terms)</li>
  </ul>
  <p>To make it easier, we've created a list of options for each one.</p>
</div>
{% endblock %}

{% block user_input %}
<section class="container p-t-l m-b-l">
  <div class="grid">
    <div class="c-1-4">&nbsp;</div>
    <div class="c-1-1 c-2-3-m c-1-2-xl">
      <h3 class="h-l">Your payment methods</h3>
      <p>
        Foreign buyers may have different expectations about how and when to
        pay for their imports.
      </p>
      <p>
        To avoid uncertainty and disappointment, carefully consider the
        options available.
      </p>
      <div class="form-table getting-paid p-h-s p-v-xs">
        <div id="getting-paid"></div>
        <p class="body-s text-blue-deep-50 m-b-0">
          Incoterms and the Incoterms 2020 logo are trademarks of ICC. Use of these trademarks does not imply association with, approval of, or sponsorship by, ICC unless specifically stated above. The Incoterms Rules are protected by copyright owned by ICC. Visit the ICC website <a href='http://iccwbo.org/' title='ICC website'>iccwbo.org</a> for more information on the Incoterm® Rules.
        </p>
      </div>
    </div>
    <div class="c-1-12-m c-1-4-xl">&nbsp;</div>
  </div>
</section>

{% endblock %}

{% block body_js %}
  {{ block.super }}
  <script type="text/javascript">
    magna.createGettingPaid({
      element: document.getElementById('getting-paid'),
      field: 'getting_paid',
      currentSection: {{ current_section|to_json }},
      lessonDetails: {{ lesson_details|to_json }},
      formData: {{ getting_paid_data|to_json }},
      formFields: [
        {
            field: 'payment_method',
            group: [
              {
                name: 'methods',
                id: 'methods',
                label: 'Payments methods',
                field_type: 'Select',
                options: {{ payment_method_choices|safe }},
                placeholder: 'Select multiple',
                multiSelect: true,
              },
              {
                name: 'Add notes',
                label: 'Add notes',
                field_type: 'Textarea',
                placeholder: 'Add note',
                id: 'method_notes'
              },
            ],
          },
        {
          field: 'payment_terms',
            group: [
              {
                name: 'terms',
                id: 'terms',
                label: 'Payments terms',
                field_type: 'Select',
                options: {{ payment_term_choices|safe }},
                tooltip: {}
              },
              {
                name: 'Add notes',
                label: 'Add notes',
                field_type: 'Textarea',
                placeholder: 'Add note',
                id: 'payments_notes'
              },
            ],
          },
          {
            field: 'incoterms',
            group: [
              {
                name: 'transport',
                id: 'transport',
                label: 'Incoterms®',
                field_type: 'Select',
                options: {{ transport_choices|safe}}
              },
              {
                name: 'Add notes',
                label: 'Add notes',
                field_type: 'Textarea',
                placeholder: 'Add note',
                id: 'incoterms_notes'
              },
            ],
          },
        ],
    })
  </script>
{% endblock %}
