{% extends 'exportplan/section.html' %}
{% load static %}
{% load to_json %}

{% block intro_title %}Business objectives{% endblock %}
{% block intro_description %} To build a strong export plan you need to have goals and milestones. This page helps you to record these so you can meet them later on.{% endblock %}

{% block user_input %}

<section class="container">
  <div class="grid">
    <div class="c-1-4">&nbsp;</div>
    <div class="c-1-1 c-2-3-m c-1-2-xl text-blue-deep-80">
      <div id="objectives-reasons">
        {% include 'exportplan/includes/form_field.html' with field=form.rational %}
      </div>
    </div>
    <div class="c-1-12-m c-1-4-xl">&nbsp;</div>
  </div>
</section>

<section class="container m-b-m m-t-l">
  <div class="grid">
    <div class="c-1-4">&nbsp;</div>
    <div class="c-1-1 c-2-3-m c-1-2-xl text-blue-deep-80">
      <h2 class="h-m m-b-s">Create exporting goals</h2>
      <p>Create some key milestones for your exporting journey</p>
      <div class="g-panel m-b-m">
        <p>To increase the prospect of success, ensure what you want to achieve is specific, measurable and realistic:</p>
        <ul class="list-dot">
          <li>specific - your objective is well defined</li>
          <li>measurable - use things like quantity, cost and time frame so you can judge how well you're doing</li>
          <li>realistic - ambition is good but make sure your objective is within reach</li>
        </ul>
      </div>
      <div id="objectives-form--objectives">
        <input type="submit" class="g-button" value="Save">
      </div>
    </div>
    <div class="c-1-12-m c-1-4-xl">&nbsp;</div>
  </div>
</section>
{% endblock %}

{% block body_js %}
  {{ block.super }}
  <script type="text/javascript">
    magna.createObjectivesReasons({
      element: document.getElementById('objectives-reasons'),
      field: 'objectives',
      formData: {{ objectives|to_json|safe }},
      formFields: [
        {
          name: 'rationale',
          label: 'Why you want to export',
          field_type: 'Textarea',
          placeholder: 'Add some text',
          example: {
            content: 'I wanted to create a gin with a unique taste, a gin that has been “crafted” and is uniquely British. <br> Now that it is established and selling well in UK cities, I’d like to have long-term growth in major cities in Europe, Asia and the US. This is because competition is now fierce in the UK.'
          },
          description:
            '<p>What are the main reasons you want to export?</p><p>Common reasons for exporting include:</p><ul class="list-dot"><li>grow the business by selling overseas</li><li>maintain growth when sales in the UK have levelled off</li><li>spread risk evenly by selling in countries other than the UK</li><li>widen your customer base</li></ul> <p class="g-panel">Planning and thinking about your export objectives will help you make the most out of any export opportunities you are interested in.</p>',
          lesson: magna.formatLessonLearned({{ lesson_details|safe }}, {{ current_section|to_json}}, 0),
        },
      ],
    })
    magna.createObjectivesList({
      element: document.getElementById('objectives-form--objectives'),
      objectives: {{ company_objectives|to_json|safe }},
      exportPlanID: {{ export_plan.pk }},
      model_name: 'companyobjectives',
    })
  </script>
{% endblock %}
