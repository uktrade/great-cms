{% extends '../base.html' %}
{% load static %}

{% block head_other %}
  <meta
    name="description"
    content="Find information to help invest within the UK"
  />
{% endblock %}

{% block head_css %}
  {{ block.super }}
  <link href="{% static 'directory_components/js/vendor/accessible-autocomplete.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
    <div class="container">
      {% include '../includes/triage_header.html' with back_url=back_url step_text=step_text question_text=question_text %}
      <div class="grid-row">
        <div class="column-two-thirds">
          <form method="post" onsubmit="return onSubmitLocation()">
            {% csrf_token %}
            <div class="form-group" id="id_location-container">
              <label class="atlas-body--m atlas-label" for="sector">Enter a city, county or region</label>
              <span class="atlas-body form-hint">Type to search and choose from the list</span>
              {% include 'core/includes/form_field.html' with field=form.location %}
              {% include 'core/includes/form_field.html' with field=form.location_none %}
              {% include '../includes/submit_button.html' with button_text='Continue'  %}
            </div>
          </form>
        </div>
      </div>
      {% include '../includes/triage_footer.html' with why_we_ask_this_question_text=why_we_ask_this_question_text %}
    </div>
{% endblock %}

{% block body_js %}
  {{ block.super }}
  <script type="text/javascript" src="{% static 'directory_components/js/vendor/accessible-autocomplete.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'javascript/international-online-offer.js' %}"></script>
  <script type="text/javascript">
    accessibleAutocomplete.enhanceSelectElement({
      selectElement: document.getElementById('js-location-select'),
      source: ['Belfast', 'Cardiff', 'Edinburgh', 'London'],
      autoselect: false,
      defaultValue: getLocationIfPreviouslySelected(),
      minLength: 2,
    });

    getLocationNoneIfPreviouslySelected();
  </script>
{% endblock %}
