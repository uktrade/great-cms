{% extends './base.html' %}
{% load static %}

{% block head_other %}
  <meta
    name="description"
    content="Find information to help invest within the UK"
  />
{% endblock %}

{% block head_css %}
  {{ block.super }}
  <link href="{% static 'directory_components/js/vendor/accessible-autocomplete.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <a href="{{ back_url }}" class="govuk-back-link" style="margin-bottom: 15px;">Back</a>
    </div>
  </div>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h3 class="govuk-heading-l">Contact form</h3>
    </div>
  </div>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <p class="govuk-body">{{ complete_contact_form_message }}</p>
    </div>
  </div>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <form method="post" onsubmit="return onSubmitContact()">
        {% csrf_token %}
        <h4 class="govuk-heading-m" style="margin-bottom: 15px;">Company details</h4>
        <label class="govuk-label" for="company_name">Company name</label>
        {% include 'core/includes/form_field.html' with field=form.company_name %}
        <label class="govuk-label" for="company_location">Company headquarters</label>
        <div class="govuk-hint">Type to search and choose from the list</div>
        {% include 'core/includes/form_field.html' with field=form.company_location %}
        <h4 class="govuk-heading-m" style="margin-bottom: 15px;">Contact information</h4>
        <label class="govuk-label" for="full_name">Full name</label>
        {% include 'core/includes/form_field.html' with field=form.full_name %}
        <label class="govuk-label" for="role">Role</label>
        <div class="govuk-hint">Your role within the company</div>
        {% include 'core/includes/form_field.html' with field=form.role %}
        <label class="govuk-label" for="email">Email</label>
        {% include 'core/includes/form_field.html' with field=form.email %}
        <label class="govuk-label" for="telephone_number">Telephone number</label>
        <div class="govuk-hint">Please include the country code</div>
        {% include 'core/includes/form_field.html' with field=form.telephone_number %}
        {% include 'core/includes/form_field.html' with field=form.agree_terms %}
        {% include 'core/includes/form_field.html' with field=form.agree_info_email %}
        {% include 'core/includes/form_field.html' with field=form.agree_info_telephone %}
        {% include './includes/submit_button.html' with button_text='Submit'  %}
      </form>
    </div>
  </div>
{% endblock %}

{% block body_js %}
  {{ block.super }}
  <script type="text/javascript" src="{% static 'directory_components/js/vendor/accessible-autocomplete.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'javascript/international-online-offer.js' %}"></script>
  <script type="text/javascript">
    accessibleAutocomplete.enhanceSelectElement({
      selectElement: document.getElementById('js-company-location-select'),
      source: ['France', 'Germany', 'India', 'Italy', 'Spain', 'United States'],
      autoselect: false,
      defaultValue: getContactFormCompanyLocationIfPreviouslySelected(),
      minLength: 2,
    });
    getContactFormIfPreviouslySelected();
  </script>
{% endblock %}
